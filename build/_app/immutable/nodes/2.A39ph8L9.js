import{f as K,a as G}from"../chunks/D-U0E7Jf.js";import{i as de}from"../chunks/ANMC2sv4.js";import{o as Ae,a as Me}from"../chunks/DoS_njpE.js";import{a as W,v as Te,I as X,h as V,Z as ke,D as Ie,l as p,R as xe,F as Ne,H as Ce,G as ie,J,e as $,a8 as Ve,aC as Re,ak as oe,c as F,aK as D,b as ee,s as Le,a4 as ve,aG as z,aA as le,aL as _e,aM as De,aN as Oe,aO as He,r as he,p as ge,aP as Q,aw as ze,az as Fe,d as Be,aQ as Ue,aR as qe,aS as Ye,aT as $e,a7 as Ge,aU as Ke,aV as Pe,aI as We,i as pe,a5 as Xe,aW as Je,y as ae,C as m,n as me,A as w,B as b,x as ye,aX as Qe,aY as Ze,N as T,z as be}from"../chunks/NcJHILLz.js";import{e as re,s as se}from"../chunks/DEJiXCbA.js";import{p as R,i as je}from"../chunks/Dgf7cJfp.js";function ea(e,a,r){for(var v=[],n=a.length,i,o=a.length,s=0;s<n;s++){let c=a[s];ge(c,()=>{if(i){if(i.pending.delete(c),i.done.add(c),i.pending.size===0){var _=e.outrogroups;te(le(i.done)),_.delete(i),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var u=v.length===0&&r!==null;if(u){var t=r,f=t.parentNode;Fe(f),f.append(t),e.items.clear()}te(a,!u)}else i={pending:new Set(a),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function te(e,a=!0){for(var r=0;r<e.length;r++)Be(e[r],a)}var ue;function aa(e,a,r,v,n,i=null){var o=e,s=new Map;{var u=e;o=V?X(ke(u)):u.appendChild(W())}V&&Ie();var t=null,f=xe(()=>{var E=r();return _e(E)?E:E==null?[]:le(E)}),c,_=!0;function g(){y.fallback=t,ra(y,c,o,a,v),t!==null&&(c.length===0?(t.f&D)===0?he(t):(t.f^=D,U(t,null,o)):ge(t,()=>{t=null}))}var l=Te(()=>{c=p(f);var E=c.length;let A=!1;if(V){var S=Ne(o)===Ce;S!==(E===0)&&(o=ie(),X(o),J(!1),A=!0)}for(var O=new Set,k=F,x=Le(),M=0;M<E;M+=1){V&&$.nodeType===Ve&&$.data===Re&&(o=$,A=!0,J(!1));var N=c[M],C=v(N,M),h=_?null:s.get(C);h?(h.v&&oe(h.v,N),h.i&&oe(h.i,M),x&&k.skipped_effects.delete(h.e)):(h=sa(s,_?o:ue??(ue=W()),N,C,M,n,a,r),_||(h.e.f|=D),s.set(C,h)),O.add(C)}if(E===0&&i&&!t&&(_?t=ee(()=>i(o)):(t=ee(()=>i(ue??(ue=W()))),t.f|=D)),V&&E>0&&X(ie()),!_)if(x){for(const[P,Y]of s)O.has(P)||k.skipped_effects.add(Y.e);k.oncommit(g),k.ondiscard(()=>{})}else g();A&&J(!0),p(f)}),y={effect:l,items:s,outrogroups:null,fallback:t};_=!1,V&&(o=$)}function ra(e,a,r,v,n){var C;var i=a.length,o=e.items,s=e.effect.first,u,t=null,f=[],c=[],_,g,l,y;for(y=0;y<i;y+=1){if(_=a[y],g=n(_,y),l=o.get(g).e,e.outrogroups!==null)for(const h of e.outrogroups)h.pending.delete(l),h.done.delete(l);if((l.f&D)!==0)if(l.f^=D,l===s)U(l,null,r);else{var E=t?t.next:s;l===e.effect.last&&(e.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),L(e,t,l),L(e,l,E),U(l,E,r),t=l,f=[],c=[],s=t.next;continue}if((l.f&Q)!==0&&he(l),l!==s){if(u!==void 0&&u.has(l)){if(f.length<c.length){var A=c[0],S;t=A.prev;var O=f[0],k=f[f.length-1];for(S=0;S<f.length;S+=1)U(f[S],A,r);for(S=0;S<c.length;S+=1)u.delete(c[S]);L(e,O.prev,k.next),L(e,t,O),L(e,k,A),s=A,t=k,y-=1,f=[],c=[]}else u.delete(l),U(l,s,r),L(e,l.prev,l.next),L(e,l,t===null?e.effect.first:t.next),L(e,t,l),t=l;continue}for(f=[],c=[];s!==null&&s!==l;)(u??(u=new Set)).add(s),c.push(s),s=s.next;if(s===null)continue}(l.f&D)===0&&f.push(l),t=l,s=l.next}if(e.outrogroups!==null){for(const h of e.outrogroups)h.pending.size===0&&(te(le(h.done)),(C=e.outrogroups)==null||C.delete(h));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||u!==void 0){var x=[];if(u!==void 0)for(l of u)(l.f&Q)===0&&x.push(l);for(;s!==null;)(s.f&Q)===0&&s!==e.fallback&&x.push(s),s=s.next;var M=x.length;if(M>0){var N=i===0?r:null;ea(e,x,N)}}}function sa(e,a,r,v,n,i,o,s){var u=(o&De)!==0?(o&Oe)===0?z(r,!1,!1):ve(r):null,t=(o&He)!==0?ve(n):null;return{v:u,i:t,e:ee(()=>(i(a,u??r,t??n,s),()=>{e.delete(v)}))}}function U(e,a,r){if(e.nodes)for(var v=e.nodes.start,n=e.nodes.end,i=a&&(a.f&D)===0?a.nodes.start:r;v!==null;){var o=ze(v);if(i.before(v),v===n)return;v=o}}function L(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}const ta=Symbol("is custom element"),la=Symbol("is html");function na(e){if(V){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var v=e.value;B(e,"value",null),e.value=v}if(e.hasAttribute("checked")){var n=e.checked;B(e,"checked",null),e.checked=n}}};e.__on_r=r,Ge(r),Ke()}}function B(e,a,r,v){var n=ia(e);V&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=r)&&(a==="loading"&&(e[Ue]=r),r==null?e.removeAttribute(a):typeof r!="string"&&oa(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function ia(e){return e.__attributes??(e.__attributes={[ta]:e.nodeName.includes("-"),[la]:e.namespaceURI===qe})}var fe=new Map;function oa(e){var a=e.getAttribute("is")||e.nodeName,r=fe.get(a);if(r)return r;fe.set(a,r=[]);for(var v,n=e,i=Element.prototype;i!==n;){v=$e(n);for(var o in v)v[o].set&&r.push(o);n=Ye(n)}return r}function va(e,a,r=a){var v=new WeakSet;Pe(e,"input",async n=>{var i=n?e.defaultValue:e.value;if(i=Z(e)?j(i):i,r(i),F!==null&&v.add(F),await We(),i!==(i=a())){var o=e.selectionStart,s=e.selectionEnd,u=e.value.length;if(e.value=i??"",s!==null){var t=e.value.length;o===s&&s===u&&t>u?(e.selectionStart=t,e.selectionEnd=t):(e.selectionStart=o,e.selectionEnd=Math.min(s,t))}}}),(V&&e.defaultValue!==e.value||pe(a)==null&&e.value)&&(r(Z(e)?j(e.value):e.value),F!==null&&v.add(F)),Xe(()=>{var n=a();if(e===document.activeElement){var i=Je??F;if(v.has(i))return}Z(e)&&n===j(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Z(e){var a=e.type;return a==="number"||a==="range"}function j(e){return e===""?null:+e}function ce(e,a){var i;var r=(i=e.$$events)==null?void 0:i[a.type],v=_e(r)?r.slice():r==null?[]:[r];for(var n of v)n.call(this,a)}async function I(e,a={},r){return window.__TAURI_INTERNALS__.invoke(e,a,r)}var ua=K('<span class="icon svelte-oyl6e3"> </span>'),fa=K('<div class="slider-container svelte-oyl6e3"><!> <input type="range" class="slider svelte-oyl6e3"/> <span class="value svelte-oyl6e3"> </span></div>');function q(e,a){let r=R(a,"value",12,0),v=R(a,"min",8,0),n=R(a,"max",8,100),i=R(a,"step",8,1),o=R(a,"icon",8,"");var s=fa(),u=w(s);{var t=g=>{var l=ua(),y=w(l,!0);b(l),ae(()=>se(y,o())),G(g,l)};je(u,g=>{o()&&g(t)})}var f=m(u,2);na(f);var c=m(f,2),_=w(c,!0);b(c),b(s),ae(g=>{B(f,"min",v()),B(f,"max",n()),B(f,"step",i()),se(_,g)},[()=>(me(r()),pe(()=>Math.round(r())))]),va(f,r),re("input",f,function(g){ce.call(this,a,g)}),re("change",f,function(g){ce.call(this,a,g)}),G(e,s)}var ca=K('<div class="app-row svelte-uwjq8b"><div class="name svelte-uwjq8b"> </div> <!></div>');function da(e,a){ye(a,!1);let r=R(a,"name",8),v=R(a,"pid",8),n=R(a,"volume",8,1),i=R(a,"onVolumeChange",8),o=z(Math.round(n()*100));function s(_){i()(v(),p(o)/100)}Qe(()=>me(n()),()=>{T(o,Math.round(n()*100))}),Ze(),de();var u=ca(),t=w(u),f=w(t,!0);b(t);var c=m(t,2);q(c,{max:100,get value(){return p(o)},set value(_){T(o,_)},$$events:{change:s,input:s},$$legacy:!0}),b(u),ae(()=>{B(t,"title",r()),se(f,r())}),G(e,u),be()}var _a=K('<main class="control-center svelte-1uha8ag"><div class="header svelte-1uha8ag"><h2 class="svelte-1uha8ag">Control Center</h2> <button class="refresh-btn svelte-1uha8ag">â†»</button></div> <section class="svelte-1uha8ag"><h3 class="svelte-1uha8ag">System</h3> <div class="control-group svelte-1uha8ag"><label class="svelte-1uha8ag">Volume</label> <!></div> <div class="control-group svelte-1uha8ag"><label class="svelte-1uha8ag">Mic</label> <!></div></section> <section class="svelte-1uha8ag"><h3 class="svelte-1uha8ag">Display & Input</h3> <div class="control-group svelte-1uha8ag"><label class="svelte-1uha8ag">Brightness</label> <!></div> <div class="control-group svelte-1uha8ag"><label class="svelte-1uha8ag">Sensitivity</label> <!></div></section> <section class="apps-section svelte-1uha8ag"><h3 class="svelte-1uha8ag">Apps Mixer</h3> <div class="app-list svelte-1uha8ag"></div></section></main>');function Ea(e,a){ye(a,!1);let r=z(0),v=z(0),n=z(100),i=z(10),o=z([]),s;async function u(){try{const d=await I("get_system_volume");T(r,d*100);const H=await I("get_mic_volume");T(v,H*100);const Ee=await I("get_brightness");T(n,Ee*100);const Se=await I("get_mouse_speed");T(i,Se);const we=await I("get_app_volumes");T(o,we)}catch(d){console.error("Failed to load state",d)}}async function t(d){await I("set_system_volume",{vol:p(r)/100})}async function f(d){await I("set_mic_volume",{vol:p(v)/100})}async function c(d){p(n)<10&&T(n,10),await I("set_brightness",{val:p(n)/100})}async function _(d){await I("set_mouse_speed",{val:Math.round(p(i))})}async function g(d,H){await I("set_app_volume",{pid:d,vol:H})}Ae(()=>{u(),s=setInterval(u,5e3)}),Me(()=>{s&&clearInterval(s)}),de();var l=_a(),y=w(l),E=m(w(y),2);b(y);var A=m(y,2),S=m(w(A),2),O=m(w(S),2);q(O,{max:100,get value(){return p(r)},set value(d){T(r,d)},$$events:{change:t,input:t},$$legacy:!0}),b(S);var k=m(S,2),x=m(w(k),2);q(x,{max:100,get value(){return p(v)},set value(d){T(v,d)},$$events:{change:f,input:f},$$legacy:!0}),b(k),b(A);var M=m(A,2),N=m(w(M),2),C=m(w(N),2);q(C,{max:100,get value(){return p(n)},set value(d){T(n,d)},$$events:{change:c,input:c},$$legacy:!0}),b(N);var h=m(N,2),P=m(w(h),2);q(P,{min:1,max:20,get value(){return p(i)},set value(d){T(i,d)},$$events:{change:_,input:_},$$legacy:!0}),b(h),b(M);var Y=m(M,2),ne=m(w(Y),2);aa(ne,5,()=>p(o),d=>d.pid,(d,H)=>{da(d,{get name(){return p(H).name},get pid(){return p(H).pid},get volume(){return p(H).volume},onVolumeChange:g})}),b(ne),b(Y),b(l),re("click",E,u),G(e,l),be()}export{Ea as component};
